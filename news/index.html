<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • CFtime</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CFtime</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cftime.html">Working with CFtime</a></li>
    <li><a class="dropdown-item" href="../articles/conformance.html">Conformance with the CF Metadata Conventions</a></li>
    <li><a class="dropdown-item" href="../articles/processing.html">Processing climate projection data</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-CF/CFtime/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/R-CF/CFtime/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.7.1" id="cftime-171">CFtime 1.7.1<a class="anchor" aria-label="anchor" href="#cftime-171"></a></h2>
<p>Maintenance release</p>
<ul><li>Added <code>length</code> field to class <code>CFTime</code>.</li>
<li>Added <code><a href="../reference/format.CFTime.html">format.CFTime()</a></code> S3 method.</li>
<li>Documentation has been moved from vignettes to a website on github.io.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.7.0" id="cftime-170">CFtime 1.7.0<a class="anchor" aria-label="anchor" href="#cftime-170"></a></h2><p class="text-muted">CRAN release: 2025-08-23</p>
<ul><li>CFtime is now hosted on Github through the R-CF organization: all things related to the CF Metadata Conventions in R.</li>
<li>New sequence-like method to create <code>CFTime</code> instances.</li>
<li>New methods <code>CFTime$copy()</code> and <code>CFTime$subset()</code> to create copies of the entire <code>CFTime</code> instance or a subset thereof, including boundary values if they are set.</li>
<li>Fixed error on year 0 timestamps.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.2" id="cftime-162">CFtime 1.6.2<a class="anchor" aria-label="anchor" href="#cftime-162"></a></h2><p class="text-muted">CRAN release: 2025-05-18</p>
<ul><li>
<code>CFTime$indexOf()</code> method has new <code>rightmost.closed</code> argument with default value <code>FALSE</code>. Invalid return values are always <code>NA</code>, also for values outside of range. Boundary values are fully considered so when boundary values are not contiguous, results may be <code>NA</code> when values of <code>x</code> do not fall within the bounds of a coordinate.</li>
<li>Fixed <code>CFTime</code> attribute of a “season” factor when the last factor level is the first season in the year.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.1" id="cftime-161">CFtime 1.6.1<a class="anchor" aria-label="anchor" href="#cftime-161"></a></h2><p class="text-muted">CRAN release: 2025-04-12</p>
<ul><li>Deprecated “gregorian” calendar automatically converted to the equivalent “standard”.</li>
<li>
<code>CFCalendar$add_day()</code> method added to add a day to a <code>data.frame</code> of date parts, using calendar logic.</li>
<li>
<strong>API change</strong>: Bounds are now always fully specified so logical arguments should no longer be used, except in setting regular, consecutive bounds (<code>bounds &lt;- TRUE</code>). If bounds have not been set, a <code>NULL</code> value is returned. This is to ensure that factorizing to “approximate” time units (such as a month) will give correct results for the bounds. (Old API deprecated by November 2025, removed early 2026.)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.0" id="cftime-160">CFtime 1.6.0<a class="anchor" aria-label="anchor" href="#cftime-160"></a></h2><p class="text-muted">CRAN release: 2025-03-28</p>
<ul><li>New class <code>CFClimatology</code> to manage climatological statistics. Method <code>CFTime$factor()</code> with an <code>era</code> argument will now have a <code>CFClimatology</code> instance attached to the attribute “CFTime” of its return value.</li>
<li>New class <code>CFCalendarNone</code> for a calendar with no annual cycle. Such a calendar represents a single instant in time, which may be useful for experiments on a fixed moment during the year.</li>
<li>
<code><a href="https://rdrr.io/r/utils/str.html" class="external-link">str()</a></code> for <code>CFTime</code> and <code>CFClimatology</code> gives compact information.</li>
<li>Fixed new <code>CFTime</code> instance for factor with a “day” or “dekad” period where the last factor level is not at the end of the year.</li>
<li>
<code>CFTime$new()</code> with a single character string offset will generate only the single corresponding offset.</li>
<li>Test coverage near-complete.</li>
<li>Fixed inconsistent documentation for functions.</li>
<li>Minor code fixes.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5.1" id="cftime-151">CFtime 1.5.1<a class="anchor" aria-label="anchor" href="#cftime-151"></a></h2><p class="text-muted">CRAN release: 2025-03-03</p>
<ul><li>
<code>CFTime$slice()</code> can now work with a single or multiple timestamp values.</li>
<li>Test coverage increased.</li>
<li>Documentation updated, all runnable example code uses <code>ncdfCF</code> package.</li>
<li>Minor code fixes.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5.0" id="cftime-150">CFtime 1.5.0<a class="anchor" aria-label="anchor" href="#cftime-150"></a></h2><p class="text-muted">CRAN release: 2025-01-15</p>
<ul><li>Code is updated to align with the CF 1.12 release. Specifically, calendars <code>utc</code> and <code>tai</code> are added.</li>
<li>
<code>standard</code> calendar now uses mixed Gregorian/Julian calendar as defined in the CF Metadata Conventions. <code>proleptic_gregorian</code> is now a separate calendar with its own code base.</li>
<li>Negative offsets from a calendar origin are allowed.</li>
<li>Code is refactored to R6. R6 class CFTime replaces S4 class CFtime (note the difference in case). S4 class CFdatum has been replaced by hierarchy of R6 CFCalendar classes, with various non-exported functions converted into methods of CFCalendar. The code is now much cleaner and easier to extend, such as with the two new calendars <code>utc</code> and <code>tai</code>.</li>
<li>ISO8601 timestamps can use a comma “,” as decimal mark to separate a fractional part from a time element, in addition to the dot “.”.</li>
<li>Do not drop degenerate dimension on bounds when only 1 offset is included in subsetting.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4.1" id="cftime-141">CFtime 1.4.1<a class="anchor" aria-label="anchor" href="#cftime-141"></a></h2><p class="text-muted">CRAN release: 2024-09-15</p>
<ul><li>Method <code><a href="../reference/deprecated_functions.html">slab()</a></code> has an additional argument <code>rightmost.closed</code> to indicate if the upper extreme value should be included in the result.</li>
<li>Fixed bounds information on CFtime instances returned from methods <code><a href="../reference/indexOf.html">indexOf()</a></code> and <code><a href="../reference/deprecated_functions.html">slab()</a></code>.</li>
<li>Several minor code improvements.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4.0" id="cftime-140">CFtime 1.4.0<a class="anchor" aria-label="anchor" href="#cftime-140"></a></h2><p class="text-muted">CRAN release: 2024-06-05</p>
<ul><li>Bounds that define intervals around offsets can be associated with a CFtime instance and retrieved as raw offset values or as formatted timestamps.</li>
<li>Methods that subset a CF time series (e.g. <code><a href="../reference/CFfactor.html">CFfactor()</a></code>, <code><a href="../reference/cut.CFTime.html">cut()</a></code>, <code><a href="../reference/deprecated_functions.html">slab()</a></code>) now have an attribute “CFtime” (among possible others) that describes the “time” dimension of the analysis result applying the subset. In other words, if CFtime instance ‘Acf’ describes the temporal dimension of data set ‘A’ and a factor ‘Af’ is generated from ‘Acf’, then <code>Bcf &lt;- attr(Af, "CFtime")</code> describes the temporal dimension of the result of, say, <code>B &lt;- apply(A, 1:2, tapply, Af, FUN)</code>.</li>
<li>New <code><a href="../reference/indexOf.html">indexOf()</a></code> method added that returns the indices of supplied timestamps in a CFtime instance, optionally with a fractional part. This can be used to extract specific time steps, or to interpolate between time steps using the fractional part, from the time dimension of the data set associated with the CFtime instance. A vector of indices (e.g. referring to slices of the data set) can also be supplied, in which case valid indices are returned, with the new CFtime instance.</li>
<li>New <code><a href="../reference/cut.CFTime.html">cut()</a></code> method added to generate a factor, similar to <code><a href="https://rdrr.io/r/base/cut.POSIXt.html" class="external-link">cut.POSIXt()</a></code> but with some differences in the arguments.</li>
<li>
<code><a href="../reference/CFfactor.html">CFfactor()</a></code> now supports a period “quarter”, for calendar quarters.</li>
<li>
<code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> method added that generates a character vector of timestamps for the offsets in a CFtime instance. The format is specified using the flags used in <code><a href="https://rdrr.io/r/base/strptime.html" class="external-link">strptime()</a></code>, with some limitations. In particular, locale-specific formatting is limited to month names and no weekday information can be generated. The <code><a href="https://rdrr.io/r/base/range.html" class="external-link">range()</a></code> method has a new “format” parameter to support the same functionality and timestamps can also be generated for the extremes of the bounds, if set.</li>
<li>
<code>as_character()</code> and <code><a href="https://rdrr.io/r/base/length.html" class="external-link">length()</a></code> methods added that return a vector of timestamps or the number of offsets in a CFtime instance, respectively.</li>
<li>Several functions have been renamed (most notably <code>CFtimestamp()</code> to <code><a href="../reference/as_timestamp.html">as_timestamp()</a></code>, <code>CFcomplete()</code> to <code><a href="../reference/is_complete.html">is_complete()</a></code>, <code>CFrange()</code> to the standard generic method <code><a href="https://rdrr.io/r/base/range.html" class="external-link">range()</a></code>, and <code>CFsubset()</code> to <code><a href="../reference/deprecated_functions.html">slab()</a></code>) to be more consistent with the R universe. The original functions are now flagged as being deprecated. Some datum functions (deep down where regular mortals do not dwell) have been deleted.</li>
<li>Time zone designator “UTC” accepted when parsing timestamps to offsets.</li>
<li>Minor code fixes, see GitHub commits.</li>
<li>Documentation updated, with description of new functions.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.0" id="cftime-130">CFtime 1.3.0<a class="anchor" aria-label="anchor" href="#cftime-130"></a></h2><p class="text-muted">CRAN release: 2024-02-28</p>
<ul><li>Two CFtime instances can be added if they have compatible calendars and units. The earlier origin is preserved in the result and offsets from the later instance are incremented by the appropriate amount. As before, in the result offsets are in the order of the specified CFtime instances.</li>
<li>A new function CFsubset() can be used to retrieve a logical vector that indicates which time steps in a CFtime instance fall between two timestamps. This is useful to slice data during reading from file or analysis.</li>
<li>Time zone information is managed at the level of the datum. If a vector of character timestamps is parsed and found to have different time zones, a warning is generated.</li>
<li>Much reduced memory footprint.</li>
<li>Minor code fixes, see GitHub commits.</li>
<li>Codecov.io test coverage monitoring added.</li>
<li>Documentation updated, with description of new functions.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.0" id="cftime-120">CFtime 1.2.0<a class="anchor" aria-label="anchor" href="#cftime-120"></a></h2><p class="text-muted">CRAN release: 2023-11-02</p>
<ul><li>Datum units “years” and “months” added. While these units are discouraged by the CF Metadata Conventions due to their problematic definition, there are quite a few data sets out there that use these units nonetheless. For this reason, reading existing files with such datum units is supported (converting offsets to time elements is easy) but parsing timestamps is not (calculating offsets from time elements is possible but tedious and slow). Should there be a definite need, open an issue on GitHub and make a <em>very good</em> case why this functionality is required.</li>
<li>CFresolution() returns the average separation between elements in a time series, in units of the datum.</li>
<li>CFcomplete() indicates if the time series is complete, meaning that there are no gaps in the time series. This also works for time series with a somewhat variable length such as monthly data with a “days” datum unit. This works for all but the most exotic time dimension constructions.</li>
<li>CFtimestamp() produces a timestamp for all midnight values if the datum unit is “hours”, “minutes” or “seconds”. The “time” format has been removed. For “standard”, “gregorian” and “proleptic_gregorian” calendars output can be generated as POSIXct by specifying the new argument <code>asPOSIX = TRUE</code> – defaults to <code>FALSE</code>, the previous behaviour so the API is not broken.</li>
<li>Minor documentation updates.</li>
<li>Assorted minor code fixes, see GitHub commits.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="cftime-110">CFtime 1.1.0<a class="anchor" aria-label="anchor" href="#cftime-110"></a></h2><p class="text-muted">CRAN release: 2023-10-09</p>
<ul><li>CFtime() can now also be invoked with a vector of character timestamps as offsets, or with a single timestamp to create a complete time series from the datum to the indicated timestamp.</li>
<li>CFtimestamp() can now automatically select the best format for the time series.</li>
<li>New CFfactor_units() and CFfactor_coverage() functions. CFfactor_units() will tell you how many time units compose every level of a factor. CFfactor_coverage() computes the actual or relative number of time units in the factor levels from the time series in a CFtime instance with which the factor was created. This will enable you to assess the completeness of your time series (and perhaps filter out factor levels below a certain coverage threshold) and it can be useful in computing absolute values from average values, as is often useful when computing anomalies.</li>
<li>Global constants are now defined in a package environment, CFt.</li>
<li>Documentation expanded, updated and fixed.</li>
<li>Assorted minor code fixes, see GitHub commits.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="cftime-100">CFtime 1.0.0<a class="anchor" aria-label="anchor" href="#cftime-100"></a></h2><p class="text-muted">CRAN release: 2023-08-11</p>
<ul><li>This version supports all CF Metadata Conventions calendars for use with climate projection data.</li>
<li>You can create timestamps from the offsets in the files and create factors that greatly simplify working with climate change data.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Patrick Van Laake.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>


<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Conformance with the CF Metadata Conventions • CFtime</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Conformance with the CF Metadata Conventions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CFtime</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cftime.html">Working with CFtime</a></li>
    <li><a class="dropdown-item" href="../articles/conformance.html">Conformance with the CF Metadata Conventions</a></li>
    <li><a class="dropdown-item" href="../articles/processing.html">Processing climate projection data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-CF/CFtime/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Conformance with the CF Metadata Conventions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/R-CF/CFtime/blob/main/vignettes/articles/conformance.Rmd" class="external-link"><code>vignettes/articles/conformance.Rmd</code></a></small>
      <div class="d-none name"><code>conformance.Rmd</code></div>
    </div>

    
    
<p><code>CFtime</code> is based on version 1.12 of the CF Metadata
Conventions. The text for the <em>time coordinate</em> in the
conventions may be consulted <a href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.12/cf-conventions.html#time-coordinate" class="external-link">here</a>.</p>
<blockquote>
<p>The <em>time coordinate</em> is one of four coordinate types that
receive “special treatment” in the conventions. The other three are
longitude, latitude and the vertical. If you require
convention-compliant support for any of these three other coordinate
types, please consider using package <a href="https://cran.r-project.org/package=ncdfCF" class="external-link"><code>ncdfCF</code></a>
which supports all three coordinate types and links with
<code>CFtime</code> for support of the time coordinate.</p>
</blockquote>
<p>This document sets out how the <code>CFtime</code> package conforms
to the CF Metadata Conventions, by section of the conventions. This
information is mostly useful for developers and expert users.</p>
<p>If you have issues reading a netCDF file that is due to conformance
of package <code>CFtime</code> with the CF Metadata Conventions, please
<a href="https://github.com/R-CF/CFtime/issues" class="external-link">open an issue on
GitHub</a>.</p>
<p>Please note that there are many netCDF files out there that are not
claiming adherence to the CF Metadata Conventions but whose time
coordinate can still be successfully handled by <code>CFtime</code>: the
<code>netCDF</code> library itself provides the basic plumbing.</p>
<div class="section level2">
<h2 id="time-coordinate">4.4. Time Coordinate<a class="anchor" aria-label="anchor" href="#time-coordinate"></a>
</h2>
<p>A <code>CFTime</code> object is constructed from information that is
contained in the <code>units</code> and <code>calendar</code> attributes
for a time coordinate read out of a netCDF file. The package does not
actually access the netCDF file, it only uses the information that was
read out of the file by e.g. <code>ncdfCF</code>. Consequently, the
<code>CFtime</code> package can also construct a <code>CFTime</code>
object from suitable character strings.</p>
<p>This package is agnostic to the orientation of the axes in any data
variable that references the time coordinate. Consequently, the
<code>standard_name</code> and <code>axis</code> attributes are not
considered by this package (but the <code>ncdfCF</code> package handles
both). Identification of a time coordinate is done by the
<code>units</code> attribute, alone.</p>
</div>
<div class="section level2">
<h2 id="time-coordinate-units">4.4.1. Time Coordinate Units<a class="anchor" aria-label="anchor" href="#time-coordinate-units"></a>
</h2>
<p>The <code>CFtime</code> package fully supports the units
<code>"second"</code>, <code>"minute"</code>, <code>"hour"</code> and
<code>"day"</code>, including abbreviated and/or plural forms. Unit
<code>"second"</code> is (nominally) the SI second, a
<code>"minute"</code> equals 60 seconds, an <code>"hour"</code> equals
3,600 seconds, and a <code>"day"</code> equals 86,400 seconds. This is
exactly as expected, but refer to the <code>utc</code> calendar, below,
for peculiarities of that calendar.</p>
<p>The <code>units</code> <code>"month"</code> and <code>"year"</code>
are accepted on input but not using their definition in UDUNITS.
Instead, <code>"year"</code> is a calendar year, so either 360, 365 or
366 days depending on its value and the calendar. A <code>"month"</code>
is similarly a calendar month. Use of either of these time units is
discouraged by the CF Metadata Conventions.</p>
<p>Other UDUNITS time units are not supported by this package.</p>
<p>All variants of the glue word <code>"since"</code> are accepted,
being <code>"after"</code>, <code>"from"</code>, <code>"ref"</code> and
<code>"per"</code>.</p>
<p>The <em>“reference datetime string”</em> should be formatted using
the UDUNITS broken timestamp format or following <a href="https://en.wikipedia.org/wiki/ISO_8601" class="external-link">ISO8601</a> rules, but
noting that datetimes valid in specific calendars other than Gregorian
(such as <code>2023-02-30</code> in the <code>360_day</code> calendar)
are acceptable as well. The UDUNITS “packed” format is not
supported.</p>
<p>Timezone information can only use <code>00</code>, <code>15</code>,
<code>30</code> and <code>45</code> to indicate minutes; other minute
offsets have never been used anywhere. A time zone value of
<code>"UTC"</code> or <code>"GMT"</code> is accepted, as an extension to
the conventions. Even though the conventions don’t indicate it, the
<code>tai</code> and <code>utc</code> calendars can carry no time zone
indication as that does not exist for either of these calendars.</p>
</div>
<div class="section level2">
<h2 id="calendar">4.4.2. Calendar<a class="anchor" aria-label="anchor" href="#calendar"></a>
</h2>
<p>If a <code>calendar</code> attribute is not given,
<code>"standard"</code> is assumed, being the default calendar as per
the conventions.</p>
<ul>
<li>
<code>standard</code> (or the deprecated <code>gregorian</code>):
Fully conformant, but leap seconds are never considered (see below). The
combination of a <em>reference datetime</em> and other
<em>datetimes</em> spanning the gap between 1582-10-05 and 1582-10-15,
in either direction, is supported.</li>
<li>
<code>proleptic_gregorian</code>: Fully conformant, but leap seconds
are never considered (see below).</li>
<li>
<code>julian</code>: Fully conformant, but, despite the suggestion
in the conventions, leap seconds do not exist in this calendar and are
thus never considered.</li>
<li>
<code>utc</code>: Fully conformant but with an origin of
1972-01-01T00:00:00 (earlier datetimes not allowed). Leap seconds are
always accounted so when a leap second is included, UTC time progresses
like
<code>23:59:58 ... 23:59:59 ... 23:59:60 ... 00:00:00 ... 00:00:01</code>.
This also extends to minutes
<code>23:59:00 ... 23:59:60 ... 00:00:59 ... 00:01:59</code>, always
adding 60 seconds. Likewise for <code>hours</code> and
<code>days</code>. Units <code>"year"</code> and <code>"month"</code>
are not allowed, and neither is any time zone indication.</li>
<li>
<code>tai</code>: Fully conformant. Units <code>"year"</code> and
<code>"month"</code> are not allowed, and neither is any time zone
indication.</li>
<li>
<code>no_leap</code> / <code>365_day</code>: Fully conformant.</li>
<li>
<code>all_leap</code> / <code>366_day</code>: Fully conformant.</li>
<li>
<code>360_day</code>: Fully conformant.</li>
<li>
<code>none</code>: Fully conformant.</li>
</ul>
</div>
<div class="section level2">
<h2 id="leap-seconds">4.4.3. Leap seconds<a class="anchor" aria-label="anchor" href="#leap-seconds"></a>
</h2>
<p>The <code>utc</code> calendar fully supports leap seconds.</p>
<p>The <code>julian</code> calendar has no concept of leap seconds so
these are never possible or considered. Using a leap second in a
<code>julian</code> calendar is an error.</p>
<p>In the <code>standard</code> and <code>proleptic_gregorian</code>
calendars only the variant without leap seconds is considered. The
<code>units_metadata</code> attribute is not considered, so assumed to
be <code>"leap seconds: unknown"</code>. The assumption here is that if
second accuracy for a data producer is essential, then the entire tool
chain from observation equipment, to processing, to file recording will
have to be of known characteristics with regards to UTC time and leap
seconds and thus the <code>utc</code> calendar would be used, rather
than <code>standard</code> or <code>proleptic_gregorian</code> with a
caveat communicated through the <code>units_metdata</code>
attribute.</p>
</div>
<div class="section level2">
<h2 id="time-coordinates-with-no-annual-cycle">4.4.4. Time Coordinates with no Annual Cycle<a class="anchor" aria-label="anchor" href="#time-coordinates-with-no-annual-cycle"></a>
</h2>
<p>Fully conformant.</p>
</div>
<div class="section level2">
<h2 id="explicitly-defined-calendar">4.4.5. Explicitly Defined Calendar<a class="anchor" aria-label="anchor" href="#explicitly-defined-calendar"></a>
</h2>
<p>Not implemented.</p>
</div>
<div class="section level2">
<h2 id="climatological-statistics">7.4. Climatological statistics<a class="anchor" aria-label="anchor" href="#climatological-statistics"></a>
</h2>
<p>The time coordinate with climatological bounds is fully supported,
with the exception of using year 0 in the <code>standard</code> and
<code>julian</code> calendars to flag climatological data (which is a
deprecated practice as per the CF Metadata Conventions).</p>
<p>This package is agnostic to the underlying statistical operation that
produced the <em>climatological time</em> so the
<code>cell_methods</code> attribute is not inspected nor
interpreted.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Patrick Van Laake.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
